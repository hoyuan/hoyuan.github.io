<!DOCTYPE html>
<!-- saved from url=(0051)https://dl.dropboxusercontent.com/u/31754139/m.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=320, user-scalable=yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>iStyle 手機版</title>
  <style>
    *    { margin:0px; }
    body { background-image: url(m_back.png); }
    h1 {
      background: -webkit-gradient(
                      linear,left top,left bottom,
                      from(#AAB7CA), to(#7189A4));
      color: white;
      padding: 6px;
      font-size: 24px; font-weight: bold;
      text-align: center;
    }
    h2 {
      margin: 4px 0 4px 14px; padding: 3px;
      color: #7189A4;
      font-size: 16px; font-weight: normal;
      text-shadow: 2px 2px 4px white;
    }
    div.input_bk {
      background-color: white;
      color: black;
      padding: 6px;
      margin: 6px;
       -webkit-border-radius: 6px;
      clear: both;
    }
    div.cap {
      float: left;
      width: 120px;
    }
    input {
      font-size: 20px;
      width: 130px;
    }
    .submit_button { text-align: center;  }
    button {
      font-size: 20px;
      margin: 8px; padding: 4px;
      width: 296px;
      -webkit-border-radius: 12px;
      background: -webkit-gradient(
                      linear,left top,left bottom,
                      from(#EFF1F1), to(#C4C8CA));
    }
    div.next_bk {
      text-align: right;
      background-color: white;
      color: #999999;
      padding: 16px; margin: 6px;
      font-weight: bold; font-size: 18px;
      -webkit-border-radius: 6px;
      clear: both;
    }
    div.CSSnext_cap {
      float: left; color: black;
      font-weight: normal; font-size: 22px;
    }
    div.bline {
      border-bottom: solid 1px #cccccc;
    }
  </style>
  <script src="./m/gear5-0.3.js" type="text/javascript"></script>
  <script src="./m/mchain.js" type="text/javascript"></script>
</head>

<body>

  <h1 id="title">iStyle 手機版</h1>
  <div id="history" style="display: none;">
    <div id="btnLink_SearchEngine" class="next_bk" onclick="frmSearchEngine_show()">
      <div class="CSSnext_cap">入口網站</div>&gt;
    </div>
    <div id="btnLink_Personal" class="next_bk" onclick="frmPersonal_show()">
      <div class="CSSnext_cap">個人化網站</div>&gt;
    </div>
    <div id="btnLink_Personal" class="next_bk" onclick="frmVPN_show()">
      <div class="CSSnext_cap">VPN</div>&gt;
    </div>
    <div id="btnLink_House" class="next_bk" onclick="frmHouse_show()">
      <div class="CSSnext_cap">置產資訊</div>&gt;
    </div>
    <div id="btnBid" class="next_bk" onclick="frmBid_show()">
      <div class="CSSnext_cap">拍賣快速查價</div>&gt;
    </div>
    <div id="input_btn" class="next_bk" onclick="showFormSection()">
      <div class="CSSnext_cap">測試中</div>&gt;
    </div>

<!--    <h2>BBB</h2>
    <div id="bmi_div" class="input_bk">
    </div>
    <h2>WWW</h2>
    <div id="info_div" class="input_bk">
    </div>
-->
  </div>

  <div id="frmSearchEngine" style="display: none;">
    <h2>入口網站</h2>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.google.com&#39;);">
      <div class="CSSnext_cap">Google</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://tw.yahoo.com&#39;);">
      <div class="CSSnext_cap">Yahoo</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.ruten.com.tw/&#39;);">
      <div class="CSSnext_cap">R拍</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://tw.bid.yahoo.com/&#39;);">
      <div class="CSSnext_cap">Y拍</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://shopping.pchome.com.tw/&#39;);">
      <div class="CSSnext_cap">P購</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://tw.dictionary.yahoo.com&#39;);">
      <div class="CSSnext_cap">Y字典</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.dropbox.com/home&#39;);">
      <div class="CSSnext_cap">Dropbox</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://weblis.lib.ncku.edu.tw/&#39;);">
      <div class="CSSnext_cap">成大總圖館藏查詢</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.coolpc.com.tw/&#39;);">
      <div class="CSSnext_cap">原價屋</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://twtraffic.tra.gov.tw/twrail/mobile/home.aspx&#39;);">
      <div class="CSSnext_cap">火車時刻表</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://twtraffic.tra.gov.tw/twrail/&#39;);">
      <div class="CSSnext_cap">火車時刻表 PC版</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.c-bike.com.tw/&#39;);">
      <div class="CSSnext_cap">公共腳踏車</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.taiwanlottery.com.tw/&#39;);">
      <div class="CSSnext_cap">台灣彩券</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.cwb.gov.tw&#39;);">
      <div class="CSSnext_cap">中央氣象局</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.cpa.gov.tw/&#39;);">
      <div class="CSSnext_cap">人事行政局</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://tw.stock.yahoo.com/&#39;);">
      <div class="CSSnext_cap">奇摩股市</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.ascc.sinica.edu.tw/iascc/netsrv/speed/&#39;);">
      <div class="CSSnext_cap">網路測速</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;https://dl.dropboxusercontent.com/u/31754139/index.html&#39;);">
      <div class="CSSnext_cap">NCKU DropWeb for PC</div>&nbsp; 
    </div>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
  </div>

  <div id="frmPersonal" style="display: none;">
    <h2>個人化網站</h2>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;https://www.google.com/calendar/render?hl=zh-TW&#39;);">
      <div class="CSSnext_cap">G 日曆</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.google.com/calendar/gp&#39;);">
      <div class="CSSnext_cap">G 行動版日曆</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://weblis.lib.ncku.edu.tw/patroninfo*cht&#39;);">
      <div class="CSSnext_cap">成大總圖個人化服務</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;https://www.evernote.com/Login.action?targetUrl=%2FHome.action&#39;);">
      <div class="CSSnext_cap">Evernote</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://cspwater.com/webmail&#39;);">
      <div class="CSSnext_cap">WebMail</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.facebook.com&#39;);">
      <div class="CSSnext_cap">Facebook</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.mobile01.com&#39;);">
      <div class="CSSnext_cap">Mobile 01</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.backpackers.com.tw/forum/&#39;);">
      <div class="CSSnext_cap">背包客棧</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.backpackers.com.tw/forum/forumdisplay.php?f=103&#39;);">
      <div class="CSSnext_cap">背包 台灣自助旅行找伴</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.backpackers.com.tw/forum/forumdisplay.php?f=110&#39;);">
      <div class="CSSnext_cap">背包 團體旅遊招募</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.backpackers.com.tw/forum/group.php?groupid=230&#39;);">
      <div class="CSSnext_cap">背包 七年級背包幫</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;https://www.vibo.com.tw/CWS/Consumer_07_01_06,,,,.html?nocache=1360894654110&#39;);">
      <div class="CSSnext_cap">威寶未出帳</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.chinatrust.com.tw&#39;);">
      <div class="CSSnext_cap">中信銀網銀</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;https://dl.dropbox.com/u/31754139/dcvbid/20130215.html&#39;);">
      <div class="CSSnext_cap">DCVbid</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://www.runtastic.com/zh/users/jogi-jogi-2/sport-sessions&#39;);">
      <div class="CSSnext_cap">RunTastic</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://plus.im&#39;);">
      <div class="CSSnext_cap">IM網頁即時通</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;https://dl.dropboxusercontent.com/u/31754139/index.html&#39;);">
      <div class="CSSnext_cap">NCKU DropWeb for PC</div>&nbsp; 
    </div>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
  </div>

  <div id="frmVPN" style="display: none;">
    <h2>VPN</h2>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.30:8090/sb/&#39;);">
      <div class="CSSnext_cap">平板 FFScropBook</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.30:8090/dokuwiki/&#39;);">
      <div class="CSSnext_cap">平板 知識庫wiki</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.30:8090/dokuwiki2/&#39;);">
      <div class="CSSnext_cap">平板 井上wiki</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.30:8090/seo/&#39;);">
      <div class="CSSnext_cap">平板 SEO</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.165:8090/sb/&#39;);">
      <div class="CSSnext_cap">手機 FFScropBook</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.165:8090/dokuwiki/&#39;);">
      <div class="CSSnext_cap">手機 知識庫wiki</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.165:8090/dokuwiki2/&#39;);">
      <div class="CSSnext_cap">手機 井上wiki</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://192.168.1.165:8090/seo/&#39;);">
      <div class="CSSnext_cap">手機 SEO</div>&nbsp; 
    </div>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
  </div>  
  
  <div id="frmHouse" style="display: none;">
    <h2>房屋資訊</h2>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://lvr.land.moi.gov.tw/N11/login.action&#39;);">
      <div class="CSSnext_cap">實價登錄</div>&nbsp; 
    </div>
    <div class="next_bk" onclick="gotoURL(&#39;http://ntnet0516.pixnet.net/blog&#39;);">
      <div class="CSSnext_cap">大高雄房屋Blog</div>&nbsp; 
    </div>
    <div id="btnCancel3" class="next_bk" onclick="showHistorySection();">
      <div class="CSSnext_cap">回主選單</div>&gt;
    </div>
  </div>
  
  
  <div id="frmBid" style="display: none;">
    <h2>拍賣查價</h2>
    <div class="input_bk">
      <label><div class="cap">日期</div>
        <input id="txtBidDate" type="text" required="">
      </label>
    </div>
    <div class="input_bk">
      <label><div class="cap">物品名稱</div>
        <input id="txtBidName" type="text" required=""><label id="lblBidNameAlert"></label>
      </label>
    </div>
    <div class="input_bk">
      <label><div class="cap">金額底價</div>
        <input id="txtBidMoney" type="number" step="100" value="800" onchange="resetMoneyRange();" required="">
      </label>
    </div>
    <div class="input_bk">
      <label><div class="cap">金額增加</div>
        <input id="txtBidMoneyRange" type="number" step="50" value="200" onchange="checkMoneyRange();" required="">
      </label>
    </div>
    <div class="input_bk">
      <label><div class="cap">金額範圍</div>
        <label id="lblBidMoneyRangeRef">800～1000</label>&nbsp;
      </label>
    </div>

    <div class="input_bk">
      <label><div class="cap">地區別</div>
        <select id="selBidArea">
          <option value="all">不限地區</option>
          <option value="kh">高雄市</option>
          <option value="tainan">台南市</option>
        </select>
      </label>
    </div>

    <div class="input_bk">
      <label><div class="cap">拍賣網</div>
        <select id="selBidWebsite">
          <option value="RutenBid">R拍賣</option>
          <option value="YahooBid">Y拍賣</option>
          <option value="PChome">P購物</option>
          <option value="YahooBuy">Y購物</option>
          <option value="YahooMall">Y商城</option>
        </select>
      </label>
    </div>

    <div class="submit_button">
      <button id="btnBidSend" onclick="funcBidSend()">查詢價格</button>
      <button id="btnCancel2" onclick="showHistorySection()">取消</button>
    </div>
	
  </div>



  <div id="form" style="display: block;">
    <h2>測試</h2>
    <div class="input_bk">
      <label><div class="cap">日期</div>
        <input id="date_txt" type="text" required="">
      </label>
    </div>
    <div class="input_bk">
      <label><div class="cap">值A</div>
        <input id="weight_txt" type="number" required="">
      </label>
    </div>
    <div class="input_bk">
      <label><div class="cap">值B</div>
        <input id="height_txt" type="number" required="">
      </label>
    </div>
    <div class="submit_button">
      <button id="save_btn" onclick="saveWeight">儲存</button>
      <button id="cancel_btn" onclick="showHistorySection()">取消</button>
    </div>
  </div>



  <script type="text/javascript">
    function $ (id) { return document.getElementById(id); }
    var KEY_HEIGHT = 'height.value';
    // 設定顯示頁面時的事件
    window.onload = function() {
      // 資料庫的初始化
      initDatabase();

//      $("btnLink_SearchEngine").onclick = function() { frmSearchEngine_show(); };
//      $("btnLink_Personal").onclick = function() { frmPersonal_show(); };
//      $("btnLink_House").onclick = function() { frmHouse_show(); };

//      $("save_btn").onclick = saveWeight;
//      $("cancel_btn").onclick = function() { showHistorySection(); };
//      $("input_btn").onclick = function() { showFormSection(); };

//      $("btnBidSend").onclick = funcBidSend;
//      $("btnCancel2").onclick = function() { showHistorySection(); };
//      $("btnBid").onclick = function() { frmBid_show(); };

//      showHistorySection();
    };

//Add By Hoyuan 20130210
function gotoURL(url){
//  window.open(url);
  location.href = url;
}

function funcReflashMoneyRangeRef() {
  $("lblBidMoneyRangeRef").innerHTML  = String($("txtBidMoney").value);// - $("txtBidMoneyRange").value);
  $("lblBidMoneyRangeRef").innerHTML += '～';
  $("lblBidMoneyRangeRef").innerHTML += String($("txtBidMoney").value - (-1 * $("txtBidMoneyRange").value));
}

function checkMoneyRange(){
  var m = $("txtBidMoneyRange").value;
  if (m <= 0) {
  	$("txtBidMoneyRange").value = 0;
  }  
  funcReflashMoneyRangeRef();
}

function resetMoneyRange(){
  var m = $("txtBidMoney").value;

  if (m <= 0) {
  	$("txtBidMoney").value = 1;
  } else if (m <= 1000) {
    $("txtBidMoney").step = "100";
///    $("txtBidMoneyRange").value = "100";
    $("txtBidMoneyRange").step = "50";
  } else if (m >= 1000 && m<=6000) {
    $("txtBidMoney").step = "1000";
///    $("txtBidMoneyRange").value = "300";
    $("txtBidMoneyRange").step = "100";
  } else if (m >= 6000 && m<=10000) {
    $("txtBidMoney").step = "1000";
///    $("txtBidMoneyRange").value = "500";
    $("txtBidMoneyRange").step = "100";
  } else if (m >= 10000 && m<=30000) {
    $("txtBidMoney").step = "2000";
///    $("txtBidMoneyRange").value = "1000";
    $("txtBidMoneyRange").step = "200";
  } else if (m >= 30000 && m<=50000) {
    $("txtBidMoney").step = "2000";
///    $("txtBidMoneyRange").value = "2000";
    $("txtBidMoneyRange").step = "500";
  } else if (m >= 50000) {
  	$("txtBidMoney").value = 50000;
  }

  funcReflashMoneyRangeRef();
   
}

    function initDatabase() {
      mchain
        .openDatabase("weight.db")
        .createTable('logs', {
          log_id : "integer primary key",
          weight : "integer",
          year   : "integer",
          month  : "integer",
          date   : "integer"
        })
        .commit(detectSection, detectSection);
    }


    function detectSection() {
      // 調查是否尚未輸入資料
      mchain.transaction().select("logs",{},
        function(trans, rs) {
          if (rs.rows.length == 0) {
            showFormSection();
          } else {
            showHistorySection();
          }
        }
      ).commit();
    }


    // 切換顯示階段
    function showFormSection() {
      $("frmSearchEngine").style.display    = 'none';
      $("frmPersonal").style.display    = 'none';
      $("frmVPN").style.display    = 'none';
      $("frmHouse").style.display    = 'none';
      $("form").style.display    = 'block';
      $("frmBid").style.display    = 'none';
      $("history").style.display = 'none';
      setDefaultValue();
    }

    function frmSearchEngine_show() {
      $("frmSearchEngine").style.display    = 'block';
      $("frmPersonal").style.display    = 'none';
      $("frmVPN").style.display    = 'none';
      $("frmHouse").style.display    = 'none';
      $("form").style.display    = 'none';
      $("frmBid").style.display    = 'none';
      $("history").style.display = 'none';
    }

    function frmPersonal_show() {
      $("frmSearchEngine").style.display    = 'none';
      $("frmPersonal").style.display    = 'block';
      $("frmVPN").style.display    = 'none';
      $("frmHouse").style.display    = 'none';
      $("form").style.display    = 'none';
      $("frmBid").style.display    = 'none';
      $("history").style.display = 'none';
    }

    function frmVPN_show() {
      $("frmSearchEngine").style.display    = 'none';
      $("frmPersonal").style.display    = 'none';
      $("frmVPN").style.display    = 'block';
      $("frmHouse").style.display    = 'none';
      $("form").style.display    = 'none';
      $("frmBid").style.display    = 'none';
      $("history").style.display = 'none';
    }

    function frmHouse_show() {
      $("frmSearchEngine").style.display    = 'none';
      $("frmPersonal").style.display    = 'none';
      $("frmVPN").style.display    = 'none';
      $("frmHouse").style.display    = 'block';
      $("form").style.display    = 'none';
      $("frmBid").style.display    = 'none';
      $("history").style.display = 'none';
    }

    function frmBid_show() {
      $("frmSearchEngine").style.display    = 'none';
      $("frmPersonal").style.display    = 'none';
      $("frmVPN").style.display    = 'none';
      $("frmHouse").style.display    = 'none';
      $("form").style.display    = 'none';
      $("frmBid").style.display    = 'block';
      $("history").style.display = 'none';
      setBidDefaultValue();
    }

    function showHistorySection() {
      $("frmSearchEngine").style.display    = 'none';
      $("frmPersonal").style.display    = 'none';
      $("frmVPN").style.display    = 'none';
      $("frmHouse").style.display    = 'none';
      $("form").style.display    = 'none';
      $("frmBid").style.display    = 'none';
      $("history").style.display = 'block';
      setTimeout(showHistoryData, 1); // 晚一點顯示
    }


    // 設定初始值
    function setBidDefaultValue() {
      // 設定今天的日期
      var t = new Date();
      $("txtBidDate").value = t.getFullYear() + "/" + 
                   (t.getMonth()+1) + "/" + t.getDate();
    }
    
    function setDefaultValue() {
      // 設定今天的日期
      var t = new Date();
      $("date_txt").value = t.getFullYear() + "/" + 
                   (t.getMonth()+1) + "/" + t.getDate();
      // 查詢上一次的身高/體重
      var h = localStorage.getItem(KEY_HEIGHT);
      if (h == null) h = 150; // 放入適當的值
      $("height_txt").value = h;
      mchain.transaction().executeSql(
        "SELECT * FROM logs ORDER BY log_id DESC",[],
        function(trans, rs){
          var w = 70;
          if (rs.rows.length > 0) {
            var row = rs.rows.item(0);
            w = row.weight;
          }
          $("weight_txt").value = w;
        }
      ).commit();
    }

    // 做相對應的處理程序
    function funcBidSend() {
      // 取得值
      var BidDate       = $('txtBidDate').value;
      var BidName       = $('txtBidName').value;
      var BidMoney      = parseFloat($('txtBidMoney').value);
      var BidMoneyRange = parseFloat($('txtBidMoneyRange').value);
      var BidWebsite    = $('selBidWebsite').value;
      var url           = "www.istyle.idv.tw";
      var BidMoneyMin   = BidMoney;// - BidMoneyRange;
      var BidMoneyMax   = BidMoney + BidMoneyRange;
      var BidArea       = $('selBidArea').value;
      var BidAreaUrlStr = "";

      if (BidWebsite == "YahooBid") {

        if (BidArea == "kh")
          BidAreaUrlStr = "高雄市";
        else if (BidArea == "tainan")
          BidAreaUrlStr = "台南市";

//        url = "http://tw.search.bid.yahoo.com/search/ac;_ylt=Ath3snz3KU6xPZ1vBTKbK2ypFLJ8?p=" + BidName + "&cat=&seller=&f_disprange=1&mincurprice=" + BidMoneyMin + "&maxcurprice=" + BidMoneyMax + "&minshipprice=&maxshipprice=&uloc0=&minrating=&maxrating=&display=&s=&haspic=&ei=UTF-8"
          url = "http://tw.search.bid.yahoo.com/search/ac;_ylt=Aha7NqAEZ5oIhYwis8Qt_oipFLJ8?p=" + BidName + "&mincurprice=" + BidMoneyMin + "&maxcurprice=" + BidMoneyMax + "&ei=UTF-8&cat=&fp_ad_hits=3&f_disprange=1&s=curprice&uloc0=" + BidAreaUrlStr;
//        alert("Y拍" + BidName + BidMoneyMin);
      	
      } else if (BidWebsite == "RutenBid") {

        if (BidArea == "kh")
          BidAreaUrlStr = "16";
        else if (BidArea == "tainan")
          BidAreaUrlStr = "15";

//          url = "http://search.ruten.com.tw/search/s000.php?k=" + BidName + "&c=0&ctab=1&searchfrom=searchbar&f=0&o=9&m=1&fy=" + BidAreaUrlStr + "&h=0&p1=" + BidMoneyMin + "&p2=" + BidMoneyMax;

          url = "http://ncku.istyle.idv.tw/redir_bid.php?BidClass=RutenBid&BidName=" + BidName + "&BidAreaUrlStr=" + BidAreaUrlStr + "&BidMoneyMin=" + BidMoneyMin + "&BidMoneyMax=" + BidMoneyMax;


      } else if (BidWebsite == "PChome") {

	    url = "http://ecshweb.pchome.com.tw/search/v2/?q=" + BidName + "&Scope=all&CurPage=1&SortParm=PRC&SortOrder=AC&MinPrice=" + BidMoneyMin + "&MaxPrice=" + BidMoneyMax;
//    	  alert("P購");

      } else if (BidWebsite == "YahooBuy") {
        url = "http://search.buy.yahoo.com.tw/search.php?limit_price1=" + BidMoneyMin + "&limit_price2=" + BidMoneyMax + "&p=" + BidName + "&hpp=gdsearch&sort1=price&subno=0&z=0&page=1";

      } else if (BidWebsite == "YahooMall") {

//	    url = "http://tw.mall.yahoo.com/search/fs;_ylt=AixyU47lPw1lM7lKh76gZ0H9Nx4J?mincurprice=" + BidMoneyMin + "&maxcurprice=" + BidMoneyMax + "&sb=1&p=" + BidName + "&catid=0&img_only=1&sort_by=[rank]&order_by=&qf=sidebar&sort_by=price&order_by=1";		
        url = "http://tw.mall.yahoo.com/search/fs;_ylt=Ahr3pozldMbO7QhbQ_V7EFD.Nx4J?sb=1&mincurprice=" + BidMoneyMin + "&maxcurprice=" + BidMoneyMax + "&searchby=pname&catid=0&p=" + BidName + "&qss_search=1&img_only=1&sort_by=price&order_by=1&qf=sidebar&.acrumb=";

      } 

      if (BidName.length != 0) {
        $("lblBidNameAlert").innerHTML  = "";
        window.open(url);
      } else {
        $("lblBidNameAlert").innerHTML  = "<font color=red>不可為空值!</font>";
	  
//        alert("請輸入物品名稱!");
//        $('lblBidInfo').text = "請輸入物品名稱!";
//$('btnBidSend').value = "請輸入物品名稱!";
      }
    }
    
    function saveWeight() {
//      alert("saveWeight");
      // 取得值
      var height = parseFloat($('height_txt').value);
      var weight = parseFloat($('weight_txt').value);
      var date   = $('date_txt').value;
      // 檢查值的正當性
      if (!date.match(/^\d+\/\d+\/\d+$/)) {
        alert('請輸入正確的日期'); return;
      }
      if (isNaN(height) || height < 50) {
        alert('請輸入正確的值A'); return;
      }
      if (isNaN(weight) || weight < 30) {
        alert('請輸入正確的值B'); return;
      }
      // 立刻儲存身高的設定
      localStorage.setItem(KEY_HEIGHT, height);
      // 追加到紀錄中
      var date_ary = date.split("/");
      var y = date_ary[0], m = date_ary[1], d = date_ary[2];
      mchain.transaction()
        .select(
          "logs", {'year':y, 'month':m, 'date':d},
          function(trans, rs) {
            if (rs.rows.length > 0) { // 更新值
              mchain.update("logs",
                {'weight': weight, 'year':y, 'month':m, 'date':d},
                {'year':y, 'month':m, 'date':d}
              ).commit();
            } else { // 重新插入
              mchain.insert("logs",
                {'weight': weight, 'year':y, 'month':m, 'date':d}
              ).commit();
            }
          }
        ).commit(showHistorySection,showHistorySection);

    }


    // 顯示體重
    function showHistoryData() {
      console.log("showHistoryData Running!");
      var s = "";
      mchain.transaction().executeSql(
        "SELECT * FROM logs ORDER BY year DESC, month DESC, date DESC" +
        " LIMIT ?",[30],
        function(trans, rs) {
          if (rs.rows.length == 0) {
            $('info_div').innerHTML = '無'; return;
          }
          for (var i = 0; i < rs.rows.length; i++) {
            var r = rs.rows.item(i);
            if (i == 0) { showBMI(r); }
            s += "<div class='bline'>";
            s += r.year + "/" + r.month + "/" + r.date + " : ";
            s += r.weight + "kg</div>";
          }
          $('info_div').innerHTML = s;
        }
      ).commit();
    }


    function showBMI(r) {
      var height_cm = localStorage.getItem(KEY_HEIGHT);
      var h = height_cm / 100;
      var w = r.weight;
      var bmi = w / (h * h);
      var ave = 22 * (h * h);
      var per = Math.floor(w / ave * 100);
      var flag = "Standard";
      if (bmi < 18.5) { flag = "slow"; }
      else if (25 <= bmi && bmi < 30) { flag = "to high"; }
      else if (30 <= bmi) { flag = "high"; }
      bmi = Math.floor(bmi * 100) / 100;
      var s = "Value: " + bmi + "→" + flag;
      s += " (rate: " + per + "%)";
      $('bmi_div').innerHTML = s;
    }



String.prototype.trim = function() {
	return this.replace(/^\s+|\s+$/g,"");
}
String.prototype.ltrim = function() {
	return this.replace(/^\s+/,"");
}
String.prototype.rtrim = function() {
	return this.replace(/\s+$/,"");
}


  </script>

<iframe frameborder="no" height="118" scrolling="no" src="./m/ad354x118.html" width="100%">Sorry, we can't display the widget.</iframe>


</body></html>